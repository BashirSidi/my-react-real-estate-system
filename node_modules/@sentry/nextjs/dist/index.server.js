Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var node_1 = require("@sentry/node");
var metadataBuilder_1 = require("./utils/metadataBuilder");
var serverIntegrations_1 = require("./utils/serverIntegrations");
tslib_1.__exportStar(require("@sentry/node"), exports);
// Here we want to make sure to only include what doesn't have browser specifics
// because or SSR of next.js we can only use this.
var react_1 = require("@sentry/react");
exports.ErrorBoundary = react_1.ErrorBoundary;
exports.withErrorBoundary = react_1.withErrorBoundary;
/** Inits the Sentry NextJS SDK on node. */
function init(options) {
    var metadataBuilder = new metadataBuilder_1.MetadataBuilder(options, ['nextjs', 'node']);
    metadataBuilder.addSdkMetadata();
    if (options.integrations) {
        options.integrations = serverIntegrations_1.getFinalServerIntegrations(options.integrations);
    }
    else {
        options.integrations = [serverIntegrations_1.defaultRewriteFrames];
    }
    node_1.init(options);
    node_1.configureScope(function (scope) {
        scope.setTag('runtime', 'node');
    });
}
exports.init = init;
var config_1 = require("./utils/config");
exports.withSentryConfig = config_1.withSentryConfig;
//# sourceMappingURL=index.server.js.map